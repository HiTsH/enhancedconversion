<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TGSP8F6');</script>
<!-- End Google Tag Manager -->
  </head>

  <body>
    
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TGSP8F6"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <form id="my-form" class='wpcf7-form'>
      <input type="text" id="first_name" name="first_name" />
      <input type="text" id="last_name" name="last_name" />
      <input type="email" id="email" name="email" />
      <input type='submit' value='submit' />
    </form>

    <script src="index.js">
      function enhancedConversion(event){
	      var form_values = {};
	      for (var i = 0; i < form.length; i++){
		      form_values[form[i].name] = form[i].value;
	      }
	      console.log (form_values);
  	    return form_values.email;
      }

    var form = document.querySelector('form');
    form.addEventListener('submit', enhancedConversion);
    </script>
  </body>
</html>
